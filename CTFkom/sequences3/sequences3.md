# Sequences 3

The same layout as [Sequence1](../sequences1/sequences1.md) and [Sequence2](../sequences2/sequences2.md), where the main [challenge](enc.py) is to find the missing function.
Let's divide the first values of [the ouput](output.txt) by the ascii values of "CTFkom{"

```python
given=[562754038008040,352771188005040,146987995002100,112340824751605,349621445255106,171660979877507,581127537383610]
known="CTFkom{"
for i in range(len(given)):
    print(given[i]//ord(known[i]))
```
It shows the output
```
8399314000120
4199657000060
2099828500030
1049914250015
3149742750046
1574871375023
4724614125070
```

I recognize this sequence as the Collatz sequence which starts from any number, and if it is even, half it, if is odd, multiply by 3 and add 1. This repeats until we reach 1.


Knowing the sequence, we can compute the rest of the flag.


```python
init = 562754038008040//ord("C")
found = [init]
def sequence(init):
    currentNumber = init
    while currentNumber != 1: 
        if currentNumber % 2 == 0:
            currentNumber = currentNumber / 2
        else:
            currentNumber = 3 * currentNumber + 1
        found.append(int(currentNumber))
        
generateCollatzSequence(init)

given = [562754038008040,352771188005040,146987995002100,112340824751605,349621445255106,171660979877507,581127537383610,285839154566735,361432980567906,194890332659165,1009886269233950,515573516398385,1754012993932760,382693744130784,219251624241595,1243754668425152,304959077354244,340836615866508,142015256611045,349806000494652,262354500370989,517981962271004,188357077189456,85769740505913,413712865969780,239650745531275,401099668836608,192981916138368,153250345168704,80409131724320,24122739517296,18446800807344,11706623589276,3015342439662,2808407174195,10376325454248,2350193372116,2328021736530,864693787854,1895674842660,1579729035550,823121971155,1197268321728,947837421368,673463430972,1215975639320,514451232020,233841469100,222149395645,694509163326,364792691848,683986297280,384084613088,289378818080,124959035080,42749143580,31897437902,10687285895,32061857750,23923078475,48092786690,35884617761,72139180100,36069590050,26913463345,54104385140,27052192570,13526096285,60555292696,30277646348,14826682490,4291934405,24346973456,8544851261,18611388416,16680017920,6408638464,2326423552,2085002240,713290240,521250560,208500224,65842176,53496768,19546896,16289080,4543796,2186166,2357630,3536500,1639650,1253850,4774374,1229763,6872300,1917010,868080,5154320,1980344,1288580,671418,220415,1119140,483265,869934,389181,2518340,583797,3914988,1665587,2833270,1313607,7340840,3747692,1468168,463632,1593790,1376455,2086464,1521380,1032365,3586220,1907217,3765608,1369312,623526,696882,972020,871150,467670,660288,784092,326705,495264,288904,820334,766161,1973530,951938,1776228,1654330,992598,1332222,848965,2076752,940416,1077560,244900,80817,918500]

for i in range(len(given)):
    print(chr(given[i]//found[i]), end="")
```
We get our flag: `CTFkom{y37_an07h3r_NuM83R_53QU3Nc3_u5iN9_c0LlA72_chAIn_AaAAaAaAAaAAAaa_7hI5_I5_A_L0N9_53n73Nc3_50_I_cAn_93n3ra73_aL07_0F_nuM83r5_f0r_085cUR3_r3A50n2!}`